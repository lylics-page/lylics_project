    <!doctype html>
    <html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
              integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                crossorigin="anonymous"></script>

        <!--font awesome icon-->
        <script src="https://kit.fontawesome.com/0cb8f54fdc.js" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css"/>


        <title>My Lyrics</title>
        <!--폰트-->
        <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">

        <style>

            * {
                font-family: 'Gowun Dodum', sans-serif;
            }
            body {
                background-color: #282a3f;
            }

            /*네비게이션 바*/
            .container-fluid {

            }
            .navbar>.container-fluid {
                display: flex;
                align-items: center;
                justify-content: space-between;
                flex-wrap: nowrap
            }

            .navbar-nav {
                display: flex;
                flex-direction: row;
                padding-left: 0;
                list-style: none;
                margin: 0 10px 0 20px;
            }

            .bg-light {
                background-color: #282a3f !important;
            }


            .nav-item {
                margin-right: 20px;
                width: 90px;
                border-color: transparent;
                color: white;
                align-items: center;
            }

            .mytitle {
                width: 100%;
                height: 250px;

                background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('https://c0.wallpaperflare.com/preview/776/812/924/blurred-background-close-up-electronics-equipment.jpg');
                background-position: center;
                background-size: cover;

                color: white;

                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
            }
            .mytitle > h1 {
                font-size: 5.5rem;
                text-shadow: 4px 2px 2px #282a3f;
            }
            .mytitle > h3 {
                text-shadow: 2px 1px 1px #282a3f;
            }

            .mytitle > button {
                width: 200px;
                height: 50px;

                background-color: transparent;
                color: white;

                border-radius: 50px;
                border: 1px solid white;

                margin-top: 10px;
            }

            .mytitle > button:hover {
                border: 2px solid white;
            }

            .mycards {
                margin: 20px auto 0px auto;
                width: 95%;
                max-width: 1200px;
                font-size: 19px;

            }


            .explain{
                position: absolute;
                opacity: 0;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                color: white;
                text-align: center;
                padding: 20px;
                width: 100%;
                word-break: keep-all;
                /*white-space: pre-line;*/
            }

             .explain:hover {
                opacity: 1;
                transition-duration: 1.5s;
                background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5));
                background-position: center;
                background-size: cover;



            }
            .card-body {
                display: flex;
                flex-direction: row;
                align-content: center;
                justify-content: space-between;
            }
            .fa-heart{
                color: crimson;
            }
            .fa-heart:hover {
                color: #c91c3d;
            }
            .fa-trash-can {
                color: #6e6e6e;
            }
            .fa-trash-can:hover {
                color: black;
            }

            .mypost {
                width: 95%;
                max-width: 500px;
                margin: 20px auto;
                padding: 20px;

                display: none;
            }
            #search {
                width: 20vw;
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;
                margin: 0 auto;
            }
            #search > button {
                width: 8vw;
                margin-left: 5px;
            }

            .mybtns {
                display: flex;
                flex-direction: row;
                align-items: center;
                justify-content: center;

                margin-top: 20px;
            }

        </style>
        <script>
            $(document).ready(function () {
                listing();
            });

            function rogo() {
                onclick = window.location.reload();
            }

            function open_box() {
                $('#post-box').show()
            }

            function close_box() {
                $('#post-box').hide()
            }

            function delete_list(event) {
                let id = event.parentNode.querySelector(".input_bid").value;
                let pw = event.parentNode.querySelector(".input_bpw").value;

                let getpw = prompt('비밀번호를 입력하세요.')

                if (getpw === null) {
                    return
                }
                if (pw === getpw) {
                    $.ajax({
                        type: 'POST',
                        url: '/api/sub_delete',
                        data: {id_give: id},
                        success: function (response) {
                            alert(response['msg']);
                            window.location.reload()
                        }
                    });
                } else {
                    alert('비밀번호가 다릅니다.');
                }
            }

            function listing() {
                $.ajax({
                    type: 'GET',
                    url: '/api/sub_create',
                    data: {},
                    success: function (response) {
                        let card = JSON.parse(response['cards'])
                        for (let i = 0; i < card.length; i++) {
                            let id = card[i]['_id']
                            let title = card[i]['title']
                            let artist = card[i]['artist']
                            let like = card[i]['like']
                            let lyrics = card[i]['lyrics']
                            let pw = card[i]['password']
                            let img = card[i]['img_src']


                            let temp_html = `<div class="col">
                                                <div class="card ">

                                                    <p class="explain">${lyrics}<br>- ${artist} ${title} -</p>
                                                    <img src="../static/${img}" class="card-img-top" alt="">

                                                    <div class="card-body">
                                                        <i class="fa-solid fa-heart" onclick="likeComment('${artist}')"> ${like}</i>
                                                        <i class="fa-solid fa-trash-can" onclick="delete_list(this)"></i>
                                                        <input class="input_bpw" type="hidden" value="${pw}"></input>
                                                        <input class="input_bid" type="hidden" value="${id}"></input>
                                                    </div>
                                                </div>
                                              </div>`
                            $('#cards-box').append(temp_html)
                        }
                    }
                });
            }

            function likeComment(artist) {
            $.ajax({
                type: 'POST',
                url: '/api/like',
                data: {artist_give: artist},
                success: function (response) {
                    alert(response['msg']);
                    window.location.reload()
                }
            });
        }





        </script>
    </head>

    <body>
<!--여기는 네비게이션 바-->
    <header>
        <nav class="navbar navbar-expand-lg bg-light">
          <div class="container-fluid">
            <a class="navbar-brand" href="/" onclick="rogo" >
                <img src="../static/작은로고.png" alt="" width="130px" /></a>
            <div class="d-flex" id="navbarNav">
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="navbar-brand" href="/lyrics_create" onclick="" >
                <img src="../static/등록하기.png" alt="" width="90px" /></a>
                </li>
                <li class="nav-item">
                  <a class="navbar-brand" href="/lyrics_list" onclick="" >
                <img src="../static/모아보기.png" alt="" width="90px" /></a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
    </header>
<!--음악 검색-->
    <div class="mytitle">
        <h1 style="font-weight: bolder">My Lyrics</h1>
        <h3>당신을 위한 가사들</h3>
<!--        <button onclick="open_box()">음악 찾기</button>-->
    </div>
<!--    <div class="mypost" id="post-box">-->
<!--        <form class="form-inline" id="search">-->
<!--            <input class="form-control mr-sm-2" type="search" placeholder="Artist 이름" aria-label="Search">-->
<!--            <button class="btn btn-dark" type="submit">검색</button>-->
<!--            <button onclick="close_box()" type="button" class="btn btn-dark">닫기</button>-->
<!--        </form>-->

<!--        <div class="mybtns">-->
<!--&lt;!&ndash;            <button onclick="posting()" type="button" class="btn btn-dark">기록하기</button>&ndash;&gt;-->
<!--&lt;!&ndash;            <button onclick="close_box()" type="button" class="btn btn-dark">닫기</button>&ndash;&gt;-->
<!--        </div>-->
    </div>
    <div class="mycards">
        <div class="row row-cols-1 row-cols-md-3 g-4" id="cards-box">

        </div>

    </div>



    </body>

    </html>